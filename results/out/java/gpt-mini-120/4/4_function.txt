<answer>
Yes, you need the `roleInfoList == null` check. The method first tries to obtain the roles from the in‑memory cache (`roleInfoMap`). If caching is disabled **or** the cache does not contain an entry for the given `username` (i.e., `roleInfoMap.get(username)` returns `null`), the code must fall back to loading the data from the database. Without this null check you would either skip the database lookup when the cache is empty, returning `null` to callers, or you could later encounter a `NullPointerException` when the list is used. If you prefer, you could replace the explicit null test with `roleInfoMap.computeIfAbsent(username, u -> loadFromDb(u))` or return `Collections.emptyList()` when the result is null, but the null‑check itself is required to ensure correct behavior.
</answer>